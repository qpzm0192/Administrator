# Administrator


Introduction
------------
This project introduces tasks with public members, direct communication and high-level techniques for structuring complex interactions among tasks (versus monitor and semaphore structuring approaches).


Requirement
-----------
Require supporting of language Î¼C++.
http://plg.uwaterloo.ca/usystem/uC++.html


Compile
-------
Makefile is provided.


Executable
----------
The executable program is named soda and has the following shell interface:
  soda [ config-file [Seed] ]

config-file is the text (formated) file containt the configuration constants. If unspecified, the the file name soda.config.
Seed is the seed of the random-number generator and must be greater than 0.


Configuration
-------------
The following constants are used to configure the project, and are read from a text file:

  SodaCost                2    # Manufacturer Suggested Retail Price (MSRP) per bottle
  NumStudents             2    # number of students to create
  MaxPurchases            8    # maximum number of bottles a student purchases
  NumVendingMachines      3    # number of vending machines
  MaxStockPerFlavour      5    # maximum number of bottles of each flavour in a vending machine
  MaxShippedPerFlavour    3    # maximum number of bottles of each flavour generated by the bottling plant per production run
  TimeBetweenShipments    3    # length of time between shipment pickup
  GroupoffDelay          10    # length of time between new initializing gift cards
  ParentalDelay           2    # length of time between new deposits of funds
  NumCouriers             1    # maximum number of couriers in the pool


Output
------

The parent prints the following information:
  State     |Meaning          |Additional  Information
  ----------------------------------------------------
  S         |starting         |
  D s,g     |deposit gift     |student s receiving gift, amount of gift g
  F         |finished         |


The groupoff prints the following information:
  State     |Meaning          |Additional  Information
  ----------------------------------------------------
  S         |starting         |
  D g       |deposit gift     |amount of gift g
  F         |finished         |


The WATCard office prints the following information:
  State     |Meaning                        |Additional Information
  -----------------------------------------------------------------
  S         |starting                       |
  W         |request work call complete     |
  C s,a     |create call complete           |student s, transfer amount a
  T s,a     |transfer call complete         |student s, transfer amount a
  F         |finished                       |
  
  
The name server office prints the following information:
  State     |Meaning                        |Additional Information
  -----------------------------------------------------------------
  S         |starting                       |
  R v       |register vending machine       |vending machine v registering
  N s,v     |new vending machine            |student s requesting vending machine, new vending machine v
  F         |finished                       |
  
  
The truck office prints the following information:
  State     |Meaning                                |Additional Information
  -------------------------------------------------------------------------
  S         |starting                               |
  P a       |picked up shipment                     |total amount a fo all sodas in the shipment
  d v,r     |begin delivery to vending machine      |vending machine v, total amount remaining r in the shipment
  U v,b     |unsuccessfully filled vending machine  |vending machine v, total number of bottles b not replenished
  D v,r     |end delivery to vending machine        |vending machine v, total amount remaining r in the shipment
  F         |finished                               | 
  
  
The bottling plant prints the following information:
  State     |Meaning                          |Additional  Information
  --------------------------------------------------------------------
  S         |starting                         |
  G b       |generating soda                  |bottles b generated in production run
  P         |shipment picked up by truck      |
  F         |finished                         |
  
  
A student prints the following information:
  State     |Meaning                          |Additional  Information
  --------------------------------------------------------------------
  S f,b     |starting                         |favourite soda f, number of bottles b to purchase
  V v       |selecting vending machine        |vending machine v selected
  B b       |gifted a soda                    |giftcard balance b
  G b       |bought a soda                    |WATCard balance b
  L         |WATCard lost                     |
  F         |finished                         |  
  
  
A vending machine prints the following information:
  State     |Meaning                          |Additional  Information
  --------------------------------------------------------------------
  S c       |starting                         |cost c per bottle
  r         |start reloading by truck         |
  R         |complete reloading by truck      |
  B f,r     |student bought a soda            |flavour f of soda puchased, amount remaing r of this flavour
  F         |finished                         |  
  
  
A courier prints the following information:
  State     |Meaning                          |Additional  Information
  --------------------------------------------------------------------
  S         |starting                         |
  t s,a     |start funds transfer             |student s requesting transfer, amount a of transfer
  T s,a     |complete funds transfer          |student s requesting transfer, amount a of transfer
  F         |finished                         |  
